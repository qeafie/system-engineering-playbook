<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
     width="1400" height="1100" viewBox="0 0 1400 1100">
  
  <!-- Стили -->
  <defs>
    <style>
      .pool { fill: #FFF3E0; stroke: #E65100; stroke-width: 2; }
      .pool-label { font-family: Arial; font-size: 14px; font-weight: bold; fill: #E65100; }
      .task { fill: #FFF; stroke: #000; stroke-width: 1.5; rx: 10; ry: 10; }
      .task-text { font-family: Arial; font-size: 11px; fill: #000; text-anchor: middle; }
      .gateway { fill: #FFFFCC; stroke: #000; stroke-width: 1.5; }
      .gateway-text { font-family: Arial; font-size: 10px; fill: #000; text-anchor: middle; }
      .event-start { fill: #FFF; stroke: #000; stroke-width: 1; }
      .event-end { fill: #000; stroke: #000; stroke-width: 3; }
      .sequence-flow { fill: none; stroke: #000; stroke-width: 1.5; marker-end: url(#arrowhead); }
      .message-flow { fill: none; stroke: #000; stroke-width: 1.5; stroke-dasharray: 5,5; marker-end: url(#arrowhead-white); }
    </style>
    
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#000" />
    </marker>
    <marker id="arrowhead-white" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#FFF" stroke="#000" stroke-width="1"/>
    </marker>
  </defs>
  
  <!-- Заголовок -->
  <text x="700" y="30" style="font-family: Arial; font-size: 18px; font-weight: bold; text-anchor: middle;">
    BPMN: Процесс анализа результатов и генерации отчета
  </text>
  
  <!-- Пул 1: Конвейер обработки -->
  <rect class="pool" x="50" y="60" width="1300" height="200"/>
  <text class="pool-label" x="60" y="85" transform="rotate(-90 60 85)">Конвейер обработки</text>
  
  <circle class="event-start" cx="120" cy="160" r="18"/>
  <text class="task-text" x="120" y="200" style="font-size: 10px;">Интервью завершено</text>
  
  <rect class="task" x="180" y="130" width="110" height="60"/>
  <text class="task-text" x="235" y="155">Получить сырые</text>
  <text class="task-text" x="235" y="170">данные</text>
  
  <!-- Параллельный шлюз -->
  <g transform="translate(340, 160) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#000" stroke-width="2"/>
    <line x1="0" y1="-10" x2="0" y2="10" stroke="#000" stroke-width="2"/>
  </g>
  
  <rect class="task" x="390" y="90" width="100" height="50"/>
  <text class="task-text" x="440" y="115">Транскрибация</text>
  <text class="task-text" x="440" y="128">аудио</text>
  
  <rect class="task" x="390" y="150" width="100" height="50"/>
  <text class="task-text" x="440" y="175">Извлечение</text>
  <text class="task-text" x="440" y="188">видео</text>
  
  <rect class="task" x="390" y="210" width="100" height="50"/>
  <text class="task-text" x="440" y="235">Обработка</text>
  <text class="task-text" x="440" y="248">метаданных</text>
  
  <g transform="translate(540, 160) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#000" stroke-width="2"/>
    <line x1="0" y1="-10" x2="0" y2="10" stroke="#000" stroke-width="2"/>
  </g>
  
  <rect class="task" x="590" y="130" width="120" height="60"/>
  <text class="task-text" x="650" y="155">Структурировать</text>
  <text class="task-text" x="650" y="170">данные</text>
  
  <g transform="translate(760, 160) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
  </g>
  <text class="gateway-text" x="760" y="210">Качество OK?</text>
  
  <rect class="task" x="820" y="130" width="120" height="60"/>
  <text class="task-text" x="880" y="155">Нормализовать</text>
  <text class="task-text" x="880" y="170">данные</text>
  
  <rect class="task" x="760" y="80" width="100" height="50"/>
  <text class="task-text" x="810" y="105">Корректировка</text>
  <text class="task-text" x="810" y="118">артефактов</text>
  
  <circle class="event-end" cx="1000" cy="160" r="18"/>
  <circle class="event-end" cx="1000" cy="160" r="14" fill="#FFF"/>
  
  <!-- Потоки -->
  <line class="sequence-flow" x1="138" y1="160" x2="180" y2="160"/>
  <line class="sequence-flow" x1="290" y1="160" x2="318" y2="160"/>
  <line class="sequence-flow" x1="362" y1="160" x2="390" y2="115"/>
  <line class="sequence-flow" x1="362" y1="160" x2="390" y2="175"/>
  <line class="sequence-flow" x1="362" y1="160" x2="390" y2="235"/>
  <line class="sequence-flow" x1="490" y1="115" x2="518" y2="138"/>
  <line class="sequence-flow" x1="490" y1="175" x2="518" y2="160"/>
  <line class="sequence-flow" x1="490" y1="235" x2="518" y2="182"/>
  <line class="sequence-flow" x1="562" y1="160" x2="590" y2="160"/>
  <line class="sequence-flow" x1="710" y1="160" x2="738" y2="160"/>
  <line class="sequence-flow" x1="782" y1="160" x2="820" y2="160"/>
  <line class="sequence-flow" x1="760" y1="138" x2="760" y2="130"/>
  <line class="sequence-flow" x1="760" y1="80" x2="810" y2="80"/>
  <line class="sequence-flow" x1="810" y1="130" x2="810" y2="150"/>
  <line class="sequence-flow" x1="810" y1="150" x2="820" y2="150"/>
  <line class="sequence-flow" x1="940" y1="160" x2="982" y2="160"/>
  
  <!-- Пул 2: Аналитический модуль -->
  <rect class="pool" x="50" y="280" width="1300" height="220"/>
  <text class="pool-label" x="60" y="305" transform="rotate(-90 60 305)">Аналитический модуль</text>
  
  <circle class="event-start" cx="120" cy="390" r="18"/>
  
  <rect class="task" x="180" y="360" width="110" height="60"/>
  <text class="task-text" x="235" y="385">Загрузить</text>
  <text class="task-text" x="235" y="400">матрицу</text>
  
  <g transform="translate(340, 390) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#000" stroke-width="2"/>
    <line x1="0" y1="-10" x2="0" y2="10" stroke="#000" stroke-width="2"/>
  </g>
  
  <rect class="task" x="390" y="320" width="100" height="50"/>
  <text class="task-text" x="440" y="340">Анализ</text>
  <text class="task-text" x="440" y="353">компетенций</text>
  
  <rect class="task" x="390" y="380" width="100" height="50"/>
  <text class="task-text" x="440" y="400">Анализ</text>
  <text class="task-text" x="440" y="413">эмоций</text>
  
  <rect class="task" x="390" y="440" width="100" height="50"/>
  <text class="task-text" x="440" y="460">Невербальные</text>
  <text class="task-text" x="440" y="473">сигналы</text>
  
  <g transform="translate(540, 390) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#000" stroke-width="2"/>
    <line x1="0" y1="-10" x2="0" y2="10" stroke="#000" stroke-width="2"/>
  </g>
  
  <rect class="task" x="590" y="360" width="120" height="60"/>
  <text class="task-text" x="650" y="385">Сравнить</text>
  <text class="task-text" x="650" y="400">с эталоном</text>
  
  <g transform="translate(760, 390) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
  </g>
  <text class="gateway-text" x="760" y="440">Достоверность>85%?</text>
  
  <rect class="task" x="820" y="360" width="120" height="60"/>
  <text class="task-text" x="880" y="385">Формировать</text>
  <text class="task-text" x="880" y="400">рекомендацию</text>
  
  <rect class="task" x="760" y="310" width="100" height="50"/>
  <text class="task-text" x="810" y="330">Калибровка</text>
  <text class="task-text" x="810" y="343">моделей</text>
  
  <circle class="event-end" cx="1000" cy="390" r="18"/>
  <circle class="event-end" cx="1000" cy="390" r="14" fill="#FFF"/>
  
  <!-- Потоки -->
  <line class="sequence-flow" x1="138" y1="390" x2="180" y2="390"/>
  <line class="sequence-flow" x1="290" y1="390" x2="318" y2="390"/>
  <line class="sequence-flow" x1="362" y1="390" x2="390" y2="345"/>
  <line class="sequence-flow" x1="362" y1="390" x2="390" y2="405"/>
  <line class="sequence-flow" x1="362" y1="390" x2="390" y2="465"/>
  <line class="sequence-flow" x1="490" y1="345" x2="518" y2="368"/>
  <line class="sequence-flow" x1="490" y1="405" x2="518" y2="390"/>
  <line class="sequence-flow" x1="490" y1="465" x2="518" y2="412"/>
  <line class="sequence-flow" x1="562" y1="390" x2="590" y2="390"/>
  <line class="sequence-flow" x1="710" y1="390" x2="738" y2="390"/>
  <line class="sequence-flow" x1="782" y1="390" x2="820" y2="390"/>
  <line class="sequence-flow" x1="760" y1="368" x2="760" y2="360"/>
  <line class="sequence-flow" x1="760" y1="310" x2="810" y2="310"/>
  <line class="sequence-flow" x1="810" y1="360" x2="810" y2="380"/>
  <line class="sequence-flow" x1="810" y1="380" x2="820" y2="380"/>
  <line class="sequence-flow" x1="940" y1="390" x2="982" y2="390"/>
  
  <!-- Пул 3: Генератор отчетов -->
  <rect class="pool" x="50" y="520" width="1300" height="240"/>
  <text class="pool-label" x="60" y="545" transform="rotate(-90 60 545)">Генератор отчетов</text>
  
  <circle class="event-start" cx="120" cy="640" r="18"/>
  
  <rect class="task" x="180" y="610" width="110" height="60"/>
  <text class="task-text" x="235" y="635">Выбрать</text>
  <text class="task-text" x="235" y="650">шаблон</text>
  
  <g transform="translate(340, 640) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#000" stroke-width="2"/>
    <line x1="0" y1="-10" x2="0" y2="10" stroke="#000" stroke-width="2"/>
  </g>
  
  <rect class="task" x="390" y="570" width="100" height="50"/>
  <text class="task-text" x="440" y="590">Генерация</text>
  <text class="task-text" x="440" y="603">текста</text>
  
  <rect class="task" x="390" y="630" width="100" height="50"/>
  <text class="task-text" x="440" y="650">Создание</text>
  <text class="task-text" x="440" y="663">графиков</text>
  
  <rect class="task" x="390" y="690" width="100" height="50"/>
  <text class="task-text" x="440" y="710">Видео</text>
  <text class="task-text" x="440" y="723">аннотации</text>
  
  <g transform="translate(540, 640) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#000" stroke-width="2"/>
    <line x1="0" y1="-10" x2="0" y2="10" stroke="#000" stroke-width="2"/>
  </g>
  
  <rect class="task" x="590" y="610" width="110" height="60"/>
  <text class="task-text" x="645" y="635">Компоновать</text>
  <text class="task-text" x="645" y="650">отчет</text>
  
  <g transform="translate(750, 640) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
  </g>
  <text class="gateway-text" x="750" y="690">Ошибки?</text>
  
  <rect class="task" x="810" y="610" width="110" height="60"/>
  <text class="task-text" x="865" y="635">Экспорт</text>
  <text class="task-text" x="865" y="650">PDF/JSON</text>
  
  <rect class="task" x="750" y="560" width="100" height="50"/>
  <text class="task-text" x="800" y="580">Коррекция</text>
  <text class="task-text" x="800" y="593">ошибок</text>
  
  <rect class="task" x="960" y="610" width="110" height="60"/>
  <text class="task-text" x="1015" y="635">Сохранить</text>
  <text class="task-text" x="1015" y="650">в БД</text>
  
  <circle class="event-end" cx="1120" cy="640" r="18"/>
  <circle class="event-end" cx="1120" cy="640" r="14" fill="#FFF"/>
  
  <!-- Потоки -->
  <line class="sequence-flow" x1="138" y1="640" x2="180" y2="640"/>
  <line class="sequence-flow" x1="290" y1="640" x2="318" y2="640"/>
  <line class="sequence-flow" x1="362" y1="640" x2="390" y2="595"/>
  <line class="sequence-flow" x1="362" y1="640" x2="390" y2="655"/>
  <line class="sequence-flow" x1="362" y1="640" x2="390" y2="715"/>
  <line class="sequence-flow" x1="490" y1="595" x2="518" y2="618"/>
  <line class="sequence-flow" x1="490" y1="655" x2="518" y2="640"/>
  <line class="sequence-flow" x1="490" y1="715" x2="518" y2="662"/>
  <line class="sequence-flow" x1="562" y1="640" x2="590" y2="640"/>
  <line class="sequence-flow" x1="700" y1="640" x2="728" y2="640"/>
  <line class="sequence-flow" x1="772" y1="640" x2="810" y2="640"/>
  <line class="sequence-flow" x1="750" y1="618" x2="750" y2="610"/>
  <line class="sequence-flow" x1="750" y1="560" x2="800" y2="560"/>
  <line class="sequence-flow" x1="800" y1="610" x2="800" y2="630"/>
  <line class="sequence-flow" x1="800" y1="630" x2="810" y2="630"/>
  <line class="sequence-flow" x1="920" y1="640" x2="960" y2="640"/>
  <line class="sequence-flow" x1="1070" y1="640" x2="1102" y2="640"/>
  
  <!-- Пул 4: Сервис уведомлений -->
  <rect class="pool" x="50" y="780" width="1300" height="180"/>
  <text class="pool-label" x="60" y="805" transform="rotate(-90 60 805)">Сервис уведомлений</text>
  
  <circle class="event-start" cx="120" cy="870" r="18"/>
  
  <rect class="task" x="180" y="840" width="120" height="60"/>
  <text class="task-text" x="240" y="865">Проверить</text>
  <text class="task-text" x="240" y="880">готовность</text>
  
  <g transform="translate(360, 870) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#000" stroke-width="2"/>
    <line x1="0" y1="-10" x2="0" y2="10" stroke="#000" stroke-width="2"/>
  </g>
  
  <rect class="task" x="410" y="800" width="100" height="50"/>
  <text class="task-text" x="460" y="820">Отправить</text>
  <text class="task-text" x="460" y="833">email HR</text>
  
  <rect class="task" x="410" y="860" width="100" height="50"/>
  <text class="task-text" x="460" y="880">Push-</text>
  <text class="task-text" x="460" y="893">уведомление</text>
  
  <rect class="task" x="410" y="920" width="100" height="50"/>
  <text class="task-text" x="460" y="940">Обновить</text>
  <text class="task-text" x="460" y="953">дашборд</text>
  
  <g transform="translate(560, 870) rotate(45)">
    <rect class="gateway" x="-22" y="-22" width="44" height="44"/>
    <line x1="-10" y1="0" x2="10" y2="0" stroke="#000" stroke-width="2"/>
    <line x1="0" y1="-10" x2="0" y2="10" stroke="#000" stroke-width="2"/>
  </g>
  
  <rect class="task" x="610" y="840" width="120" height="60"/>
  <text class="task-text" x="670" y="865">Логировать</text>
  <text class="task-text" x="670" y="880">отправку</text>
  
  <circle class="event-end" cx="790" cy="870" r="18"/>
  <circle class="event-end" cx="790" cy="870" r="14" fill="#FFF"/>
  
  <!-- Потоки -->
  <line class="sequence-flow" x1="138" y1="870" x2="180" y2="870"/>
  <line class="sequence-flow" x1="300" y1="870" x2="338" y2="870"/>
  <line class="sequence-flow" x1="382" y1="870" x2="410" y2="825"/>
  <line class="sequence-flow" x1="382" y1="870" x2="410" y2="885"/>
  <line class="sequence-flow" x1="382" y1="870" x2="410" y2="945"/>
  <line class="sequence-flow" x1="510" y1="825" x2="538" y2="848"/>
  <line class="sequence-flow" x1="510" y1="885" x2="538" y2="870"/>
  <line class="sequence-flow" x1="510" y1="945" x2="538" y2="892"/>
  <line class="sequence-flow" x1="582" y1="870" x2="610" y2="870"/>
  <line class="sequence-flow" x1="730" y1="870" x2="772" y2="870"/>
  
  <!-- Потоки сообщений между пулами -->
  <line class="message-flow" x1="1000" y1="178" x2="120" y2="372"/>
  <line class="message-flow" x1="1000" y1="408" x2="120" y2="622"/>
  <line class="message-flow" x1="1120" y1="658" x2="120" y2="852"/>
  
  <!-- Легенда -->
  <g transform="translate(50, 990)">
    <text style="font-family: Arial; font-size: 12px; font-weight: bold;">Легенда BPMN:</text>
    <circle cx="20" cy="30" r="10" fill="#FFF" stroke="#000" stroke-width="1"/>
    <text x="40" y="35" style="font-family: Arial; font-size: 10px;">Событие начала</text>
    
    <circle cx="170" cy="30" r="10" fill="#000" stroke="#000" stroke-width="3"/>
    <circle cx="170" cy="30" r="7" fill="#FFF"/>
    <text x="190" y="35" style="font-family: Arial; font-size: 10px;">Событие конца</text>
    
    <g transform="translate(330, 30) rotate(45)">
      <rect x="-10" y="-10" width="20" height="20" fill="#FFFFCC" stroke="#000" stroke-width="1"/>
    </g>
    <text x="350" y="35" style="font-family: Arial; font-size: 10px;">Исключающий шлюз</text>
    
    <g transform="translate(520, 30) rotate(45)">
      <rect x="-10" y="-10" width="20" height="20" fill="#FFFFCC" stroke="#000" stroke-width="1"/>
      <line x1="-5" y1="0" x2="5" y2="0" stroke="#000" stroke-width="1.5"/>
      <line x1="0" y1="-5" x2="0" y2="5" stroke="#000" stroke-width="1.5"/>
    </g>
    <text x="540" y="35" style="font-family: Arial; font-size: 10px;">Параллельный шлюз</text>
    
    <line x1="720" y1="30" x2="780" y2="30" stroke="#000" stroke-width="1.5" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>
    <text x="790" y="35" style="font-family: Arial; font-size: 10px;">Поток сообщений</text>
  </g>
  
</svg>